(this["webpackJsonpfreeslot-frontend"]=this["webpackJsonpfreeslot-frontend"]||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/extention.558d800c.gif"},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(51),l=a.n(r),i=a(2),o=a(3),c=a(6),d=a(4),m=a(5),u=a(15),p=a(16),h=a(7),v=a.n(h),g=a(11),E=a(12),f=a.n(E),b=a(13),y=a.n(b),w="https://freeslots.herokuapp.com";window.Cookies=y.a;var O=!0,D=!0;function k(){return function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"UPDATE_ORG_DETAILS",data:null}),t({type:"UPDATE_ORG_MEMBERS",data:null}),t({type:"UPDATE_ORG_REQUESTS",data:null}),t({type:"UPDATE_TIMESTAT",data:null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function N(e,t,a){return function(){var n=Object(g.a)(v.a.mark((function n(s){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("M"!==t){n.next=6;break}return n.next=3,f()({url:"".concat(w,"/auth/members?reg=").concat(e),headers:{Authorization:"Bearer "+y.a.get("token")},method:"DELETE"});case 3:s({type:"UPDATE_ORG_MEMBERS_DEL",reg:e}),n.next=10;break;case 6:return n.next=8,f()({url:"".concat(w,"/auth/requests?reg=").concat(e,"&count=").concat(a),headers:{Authorization:"Bearer "+y.a.get("token")},method:"DELETE"});case 8:alert(),s({type:"UPDATE_ORG_REQUESTS_DEL",reg:e,count:a});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function S(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f()({url:"".concat(w,"/auth/requests?reg=").concat(e,"&count=").concat(t),headers:{Authorization:"Bearer "+y.a.get("token")},method:"PUT"});case 2:n({type:"UPDATE_ORG_REQUESTS_DEL",reg:e});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function x(e,t,a){return{type:"UPDATE_ORG_"+a,data:t}}function _(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_ORG_LOGGED",data:null}),e.prev=1,t({type:"UPDATE_ORG_LOGGED",data:null}),e.next=5,f()({url:"".concat(w,"/auth/requests"),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 5:a=e.sent,t({type:"UPDATE_ORG_REQUESTS",data:a.data.data}),t({type:"UPDATE_ORG_LOGGED",data:!0}),e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),401!==e.t0.request.status){e.next=17;break}throw t({type:"UPDATE_ORG_LOGGED",data:!1}),e.t0;case 17:alert("Something went wrong. Please refresh and try again.");case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}function A(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!O||!localStorage.memData){t.next=7;break}O=!1,a({type:"UPDATE_ORG_MEMBERS",data:JSON.parse(atob(localStorage.memData))}),a({type:"UPDATE_ORG_LOGGED",data:!0}),t.next=8;break;case 7:throw new Error;case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e||a({type:"UPDATE_ORG_LOGGED",data:null});case 13:return t.prev=13,t.next=16,f()({url:"".concat(w,"/auth/members"),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 16:n=t.sent,localStorage.setItem("memData",btoa(JSON.stringify(n.data.data))),a({type:"UPDATE_ORG_MEMBERS",data:n.data.data}),a({type:"UPDATE_ORG_LOGGED",data:!0}),t.next=29;break;case 22:if(t.prev=22,t.t1=t.catch(13),401!==t.t1.request.status){t.next=29;break}throw a({type:"UPDATE_ORG_LOGGED",data:!1}),t.t1;case 29:case"end":return t.stop()}}),t,null,[[0,10],[13,22]])})));return function(e){return t.apply(this,arguments)}}()}function T(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(D&&localStorage.orgData&&localStorage.statData)){e.next=7;break}D=!1,t({type:"UPDATE_ORG_DETAILS",data:{details:JSON.parse(atob(localStorage.orgData)),stat:JSON.parse(atob(localStorage.statData))}}),t({type:"UPDATE_ORG_LOGGED",data:!0}),e.next=8;break;case 7:throw new Error;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"UPDATE_ORG_LOGGED",data:null});case 13:return e.prev=13,e.next=16,f()({url:"".concat(w,"/auth/org"),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 16:return a=e.sent,e.next=19,f()({url:"".concat(w,"/auth/members/stats"),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 19:n=e.sent,localStorage.setItem("orgData",btoa(JSON.stringify(a.data.details))),localStorage.setItem("statData",btoa(JSON.stringify(n.data))),t({type:"UPDATE_ORG_DETAILS",data:{details:a.data.details,stat:n.data}}),t({type:"UPDATE_ORG_LOGGED",data:!0}),e.next=28;break;case 26:e.prev=26,e.t1=e.catch(13);case 28:case"end":return e.stop()}}),e,null,[[0,10],[13,26]])})));return function(t){return e.apply(this,arguments)}}()}function j(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_ORG_LOGGED",data:null}),e.prev=1,e.next=4,f()({url:"".concat(w,"/auth/members/timestat"),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 4:a=e.sent,t({type:"UPDATE_TIMESTAT",data:a.data}),t({type:"UPDATE_ORG_LOGGED",data:!0}),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(1),401!==e.t0.request.status){e.next=16;break}throw t({type:"UPDATE_ORG_LOGGED",data:!1}),e.t0;case 16:alert("Something went wrong. Please refresh and try again.");case 17:t({type:"UPDATE_ORG_LOGGED",data:!1});case 18:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}var R=a(136),P=a(137),C=a(139),M=a(26);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={padding:"10px 0px",textAlign:"center"};function U(e){return s.a.createElement("div",{className:" col s12",style:{height:"100%",padding:0}},s.a.createElement("div",{className:"card hoverable darken-1",style:{height:"100%",margin:0}},s.a.createElement("div",{className:"card-content row black-text",style:{height:"88%",margin:0}},s.a.createElement("span",{className:"card-title"},e.title),s.a.createElement("div",{className:"col m6 s12",style:{fontSize:20,textAlign:"center",height:"100%"}},s.a.createElement("div",{className:"valign-wrapper",style:{height:"100%",width:"100%"}},s.a.createElement("span",{className:"",style:{width:"100%"}},s.a.createElement("img",{alt:"Logo",className:"responsive-img",src:e.img,style:{height:"30vh"}})))),s.a.createElement("div",{className:"col m6 s12",style:{fontSize:20,textAlign:"center",height:"100%"}},s.a.createElement("div",{className:"valign-wrapper",style:{height:"100%",width:"100%"}},s.a.createElement("span",{className:"",style:{width:"100%"}},s.a.createElement("h5",{style:{width:"100%"}},e.name),s.a.createElement("br",null),s.a.createElement("p",{style:{width:"100%"}},e.tag)))))))}function B(e){return s.a.createElement("div",{className:"col s12 m4 cardDash",style:L({height:"100%",padding:0},e.style)},s.a.createElement("div",{className:"card hoverable darken-1",style:{height:"100%",margin:0}},s.a.createElement("div",{className:"card-content black-text",style:{height:"88%",margin:0}},s.a.createElement("span",{className:"card-title",style:{height:"25%"}},e.head),s.a.createElement("div",{className:"valign-wrapper",style:{height:"100%"}},s.a.createElement("p",{style:{fontSize:e.size,textAlign:"center",width:"100%"}},e.stat)))))}var q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={firstYr:null,secondYr:null,thirdYr:null,fourthYr:null},a.firstUpdate=!0,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.updateData(!0,"UPDATE_ORG_LOGGED"),this.props.org||this.props.updateOrg(),document.getElementById("dashHome").classList.add("active")}},{key:"componentDidUpdate",value:function(){!this.props.org&&this.props.loggedIn&&this.props.updateOrg()}},{key:"componentWillUnmount",value:function(){document.getElementById("dashHome").classList.remove("active")}},{key:"render",value:function(){return this.props.org&&this.props.org.stat?s.a.createElement("div",{style:{height:"100%"}},s.a.createElement("div",{className:"row dashRow",style:{height:"55%",margin:"0px 0px 20px 0px"}},s.a.createElement(U,{img:this.props.org.details.dp,name:this.props.org.details.name,tag:this.props.org.details.descr})),s.a.createElement("div",{className:"row dashRow",style:{height:"45%",margin:0}},s.a.createElement("div",{className:"col s12 m8",style:{height:"100%",padding:0}},s.a.createElement("div",{className:"card hoverable darken-1",style:{height:"100%",margin:0}},s.a.createElement("div",{className:"card-content black-text",style:{height:"88%"}},s.a.createElement("span",{className:"card-title"},"Members Stats"),s.a.createElement("div",{className:"row",style:{height:"100%",marginTop:"4vh"}},s.a.createElement("span",{className:"col s6 m12"},s.a.createElement("span",{className:"col s12"},s.a.createElement("span",{className:"col s12 m10"},s.a.createElement("span",{style:G,className:"col s12 m3"},s.a.createElement("nobr",null,s.a.createElement("b",null,"First Yr"))),s.a.createElement("span",{style:G,className:"col s12 m3"},s.a.createElement("nobr",null,s.a.createElement("b",null,"Second Yr"))),s.a.createElement("span",{style:G,className:"col s12 m3"},s.a.createElement("nobr",null,s.a.createElement("b",null,"Third Yr"))),s.a.createElement("span",{style:G,className:"col s12 m3"},s.a.createElement("nobr",null,s.a.createElement("b",null,"Fourth Yr")))),s.a.createElement("span",{style:G,className:"col s12 m2"},s.a.createElement("nobr",null,s.a.createElement("b",null,"Total"))))),s.a.createElement("span",{className:"col s6 m12"},s.a.createElement("span",{className:"col s12"},s.a.createElement("div",{className:"col s12 m10"},s.a.createElement("span",{style:G,className:"col s12 m3"},this.props.org.stat.firstYr),s.a.createElement("span",{style:G,className:"col s12 m3"},this.props.org.stat.secondYr),s.a.createElement("span",{style:G,className:"col s12 m3"},this.props.org.stat.thirdYr),s.a.createElement("span",{style:G,className:"col s12 m3"},this.props.org.stat.fourthYr)),s.a.createElement("span",{style:G,className:"col s12 m2"},s.a.createElement("b",null,this.props.org.stat.members)))))))),s.a.createElement(B,{style:{paddingLeft:20},head:"Requests Pending",stat:this.props.org.stat.requests,size:50}))):s.a.createElement("div",null)}}]),t}(n.Component),F=a(10),z=a(8),V=a.n(z);function W(e,t){return{type:t,data:e}}function Y(e){return{type:"isAvailable",data:e}}window.axios=f.a,window.serverBaseURL=w;var H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).collapsible=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){V.a.Collapsible.init(this.collapsible.current)}},{key:"componentDidUpdate",value:function(){V.a.Collapsible.init(this.collapsible.current)}},{key:"viewMem",value:function(e){this.props.updateData(e,"UPDATE_MODAL_SELECTED"),this.props.dashModal.instance.open()}},{key:"render",value:function(){var e=this,t=this.props;this.props.members.sort((function(t,a){return t[e.props.sort].toLowerCase()>a[e.props.sort].toLowerCase()?1:t[e.props.sort].toLowerCase()<a[e.props.sort].toLowerCase()?-1:t.count>a.count?1:t.count<a.count?-1:0}));var a=[];return this.props.members.forEach((function(n){e.props.filterReg.test(n.reg)&&a.push(s.a.createElement("li",{key:n.reg+n.count},s.a.createElement("div",{className:"collapsible-header left-align"},s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right"),n.name+(n.count>1?" #"+n.count:"")),s.a.createElement("div",{className:"col s6 right-align hide-on-small-only"},n.reg)),s.a.createElement("div",{className:"collapsible-body memCollapsi"},s.a.createElement("span",null,s.a.createElement("ul",{className:"row"},s.a.createElement("li",{className:"col s5 m6"},s.a.createElement("b",null,"Name: "),n.name),s.a.createElement("li",{className:"col s7 m6"},s.a.createElement("b",null,"Reg No: "),n.reg)),s.a.createElement("ul",{className:"row"},s.a.createElement("li",{className:"col s5 m6"},s.a.createElement("b",null,"Rm No: "),n.rmno),s.a.createElement("li",{className:"col s7 m6"},s.a.createElement("b",null,"Phno: "),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://api.whatsapp.com/send?phone=91".concat(n.phno)},n.phno))),s.a.createElement("ul",{className:"row"},s.a.createElement("li",{className:"col s12"},s.a.createElement("b",null,"Email: "),s.a.createElement("a",{href:"mailto:".concat(n.email)},n.email)))),s.a.createElement("div",{className:"card-action"},s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.viewMem(n)}},"View more"),function(){if(!t.verified)return s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return t.verify(n.reg,n.count)}},"Accept")}(),s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){window.confirm("Are you sure?")&&t.del(n.reg,t.verified?"M":"R",n.count)}},"Remove")))))})),a.length>0?s.a.createElement("ul",{className:"collapsible popout",ref:this.collapsible},a):s.a.createElement("div",{style:{textAlign:"center",fontSize:20,paddingBottom:30}},"Nothing found.")}}]),t}(n.Component);var J=Object(p.b)((function(e){return{dashModal:e.dashModal}}),(function(e){return Object(u.b)({updateData:W,del:N,verify:S},e)}))(H),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).sortRef=s.a.createRef(),a.filterRef=s.a.createRef(),a.noFilter=s.a.createRef(),a.state={filterRegex:/.*/,sort:"name",members:a.props.members},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){V.a.FormSelect.init(this.sortRef.current),V.a.FormSelect.init(this.filterRef.current)}},{key:"filter",value:function(e){var t=parseInt(e.target.value,10),a=new Date,n=/.*/;n=0===t?/.*/:a.getMonth>=6?new RegExp("^"+(a.getFullYear()-t+1).toString().slice(2,4)):new RegExp("^"+(a.getFullYear()-t).toString().slice(2,4)),this.setState({filterRegex:n})}},{key:"sort",value:function(e){var t=e.target.value;this.setState({sort:t})}},{key:"members",value:function(){return this.props.members&&this.props.members.length>0?s.a.createElement(J,{sort:this.state.sort,filterReg:this.state.filterRegex,viewMem:this.props.viewMem,members:this.props.members,verified:this.props.verified,count:this.props.count}):s.a.createElement("div",{style:{fontSize:20,padding:20}},"Nothing found.")}},{key:"render",value:function(){return s.a.createElement("div",{className:"container",style:{marginTop:40}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("select",{defaultValue:"name",onChange:this.sort.bind(this),ref:this.sortRef},s.a.createElement("option",{value:"name"},"Name"),s.a.createElement("option",{value:"reg"},"Registration number")),s.a.createElement("label",null,"Sort")),s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("select",{defaultValue:"",onChange:this.filter.bind(this),ref:this.filterRef},s.a.createElement("option",{value:"0"},"None"),s.a.createElement("option",{value:"1"},"1st Year"),s.a.createElement("option",{value:"2"},"2nd Year"),s.a.createElement("option",{value:"3"},"3rd Year"),s.a.createElement("option",{value:"4"},"4th Year")),s.a.createElement("label",null,"Filter"))),this.members.bind(this)())}}]),t}(n.Component);var $=Object(p.b)(null,(function(e){return Object(u.b)({modifyData:x},e)}))(Q),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).collapsible=s.a.createRef(),a.downloadcsv=a.downloadcsv.bind(Object(F.a)(a)),a.state={download:"Download CSV"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.updateData(!0,"UPDATE_ORG_LOGGED"),this.props.members||this.props.updateMem(),document.getElementById("dashMems").classList.add("active")}},{key:"componentDidUpdate",value:function(){!this.props.members&&this.props.loggedIn&&this.props.updateMem()}},{key:"componentWillUnmount",value:function(){document.getElementById("dashMems").classList.remove("active")}},{key:"downloadcsv",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({download:"Downloading"}),t=y.a.get("token"),e.prev=2,e.next=5,f()({url:"".concat(w,"/auth/members"),headers:{Authorization:"Bearer "+t},method:"get"});case 5:return e.next=7,f()({url:"".concat(w,"/auth/members/download"),method:"GET",headers:{Authorization:"Bearer "+t},responseType:"blob"});case 7:a=e.sent,n=window.URL.createObjectURL(new Blob([a.data])),(s=document.createElement("a")).href=n,s.setAttribute("download",this.props.members[0].org+"_members.csv"),document.body.appendChild(s),s.click(),this.setState({download:"Download CSV"}),e.next=25;break;case 17:if(e.prev=17,e.t0=e.catch(2),401!==e.t0.request.status){e.next=24;break}throw this.props.updateData(!1,"UPDATE_ORG_LOGGED"),e.t0;case 24:window.location.reload();case 25:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null!==this.props.members?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card s12"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("span",{className:"card-title"},"Registered Members"),s.a.createElement("div",{className:"blue-text",style:{cursor:"pointer",textAlign:"right"},onClick:this.downloadcsv},this.state.download),s.a.createElement($,{members:this.props.members,viewMem:this.props.viewMem,verified:!0})))):s.a.createElement("div",null)}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).collapsible=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("dashReqs").classList.add("active"),this.props.updateData(!0,"UPDATE_ORG_LOGGED"),this.props.membersReq||this.props.updateReq()}},{key:"componentDidUpdate",value:function(){!this.props.membersReq&&this.props.loggedIn&&this.props.updateReq()}},{key:"componentWillUnmount",value:function(){document.getElementById("dashReqs").classList.remove("active")}},{key:"render",value:function(){return null!==this.props.requests?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card s12"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("span",{className:"card-title"},"Members Requests"),s.a.createElement($,{members:this.props.membersReq,viewMem:this.props.viewMem,verified:!1})))):s.a.createElement("div",null)}}]),t}(n.Component),X=a(19),ee=a.n(X),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).timePickerFrom=s.a.createRef(),a.timePickerTill=s.a.createRef(),a.dayPicker=s.a.createRef(),a.memPicker=s.a.createRef(),a.submit=a.submit.bind(Object(F.a)(a)),a.state={err:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e={defaultTime:"00:00",twelveHour:!1,onSelect:function(e,t){ee()(ee()(this.$modalEl[0]).find(".timepicker-close")[1]).trigger("click")}};V.a.Timepicker.init(this.timePickerTill.current,e),V.a.Timepicker.init(this.timePickerFrom.current,e);var t=document.querySelectorAll("select");V.a.FormSelect.init(t)}},{key:"submit",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({err:null}),"default"!==this.dayPicker.current.value){e.next=3;break}return e.abrupt("return",this.setState({err:"Choose a day first"}));case 3:if(this.timePickerFrom.current.value||this.timePickerTill.current.value){e.next=5;break}return e.abrupt("return",this.setState({err:"Choose a day first"}));case 5:if(a=parseInt(this.timePickerFrom.current.value.slice(0,2),10),n=parseInt(this.timePickerTill.current.value.slice(0,2),10),s=parseInt(this.dayPicker.current.value,10),this.props.memberView&&(t=parseInt(this.memPicker.current.value,10)),!(isNaN(a)||isNaN(n)||a>=n)){e.next=11;break}return e.abrupt("return",this.setState({err:"Select a proper time interval"}));case 11:this.props.onSubmit(a,n,s,t),this.setState({status:null}),this.setState({show:!0});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"card s12"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("span",{className:"card-title"},this.props.title),s.a.createElement("div",{className:""},s.a.createElement("div",{className:"col m6 s12"},s.a.createElement("div",{className:"col ".concat(this.props.memberView?"s6":"s12"),style:{padding:0}},s.a.createElement("div",{style:{fontSize:17,textAlign:"center",margin:"10px 0px"}},"Choose a Day"),s.a.createElement("div",{className:"input-field container"},s.a.createElement("select",{defaultValue:"default",className:"validate valid",ref:this.dayPicker},s.a.createElement("option",{value:"default",disabled:!0},"Days"),s.a.createElement("option",{value:"0"},"Monday"),s.a.createElement("option",{value:"1"},"Tuesday"),s.a.createElement("option",{value:"2"},"Wednesday"),s.a.createElement("option",{value:"3"},"Thursday"),s.a.createElement("option",{value:"4"},"Friday"),s.a.createElement("option",{value:"5"},"Saturday"),s.a.createElement("option",{value:"6"},"Sunday")))),function(){if(e.props.memberView)return s.a.createElement("div",{className:"col m6 s6",style:{padding:0}},s.a.createElement("div",{style:{fontSize:17,textAlign:"center",margin:"10px 0px"}},"Member Type"),s.a.createElement("div",{className:"input-field container"},s.a.createElement("select",{defaultValue:"default",className:"validate valid",ref:e.memPicker},s.a.createElement("option",{value:"0"},"Any"),s.a.createElement("option",{value:"1"},"First Year"),s.a.createElement("option",{value:"2"},"Second Year"),s.a.createElement("option",{value:"3"},"Third Year"),s.a.createElement("option",{value:"4"},"Fourth Year"))))}()),s.a.createElement("div",{className:"col m6 s12"},s.a.createElement("div",{style:{fontSize:17,textAlign:"center",margin:"10px 0px"}},"Choose a Time"),s.a.createElement("div",{className:""},s.a.createElement("div",{className:"input-field col s6"},s.a.createElement("input",{type:"text",className:"timepicker",ref:this.timePickerFrom}),s.a.createElement("label",{htmlFor:"mem_reg"},"From")),s.a.createElement("div",{className:"input-field col s6"},s.a.createElement("input",{ref:this.timePickerTill,type:"text",className:"timepicker"}),s.a.createElement("label",{htmlFor:"mem_reg"},"Till")))),s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("button",{style:{marginTop:10},className:"waves-effect waves-light btn ".concat(this.props.disableBtn?"btn-disabled":""),onClick:this.submit},s.a.createElement("i",{className:"material-icons left"},"send"),"Submit"))),s.a.createElement("div",{className:"err red-text"},this.state.err),s.a.createElement("div",{className:"err grey-text"},this.props.status))))}}]),t}(s.a.Component);function ae(e){return e.show?s.a.createElement("div",{className:"card s12"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("span",{className:"card-title"},"Available Members"),s.a.createElement($,{members:e.members,viewMem:e.viewMem,verified:!0}))):s.a.createElement("div",null)}var ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).submit=a.submit.bind(Object(F.a)(a)),a.state={show:null,err:null},a.members=null,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){document.getElementById("dashGetMem").classList.remove("active")}},{key:"componentDidMount",value:function(){this.props.updateData(!0,"UPDATE_ORG_LOGGED"),document.getElementById("dashGetMem").classList.add("active")}},{key:"submit",value:function(){var e=Object(g.a)(v.a.mark((function e(t,a,n){var s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({disableBtn:!0}),this.setState({status:"Finding..."}),e.prev=2,e.next=5,f()({url:"".concat(w,"/auth/freemems?start=").concat(t,"&end=").concat(a,"&day=").concat(n),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 5:s=e.sent,this.setState({members:s.data.members}),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(2),404===e.t0.request.status&&this.setState({members:[]}),401!==e.t0.request.status){e.next=17;break}throw this.props.updateData(!1,"UPDATE_ORG_LOGGED"),e.t0;case 17:window.location.reload();case 18:this.setState({disableBtn:!1}),this.setState({status:null}),this.setState({show:!0});case 21:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement(te,{title:"Get a Member",onSubmit:this.submit,status:this.state.status,disableBtn:this.state.disableBtn}),s.a.createElement(ae,{viewMem:this.props.viewMem,members:this.state.members,show:this.state.show}))}}]),t}(n.Component),se=a(54),re=a.n(se),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).chartDom=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=!0;document.documentElement.clientWidth<600&&(e=!1);var t=this.chartDom.current.getContext("2d");this.zx=new re.a(t,{type:"line",data:{labels:[],datasets:[{label:"Choose a day",data:[],backgroundColor:"transparent",borderColor:"#2196f3"}]},options:{responsive:e,tooltips:{mode:"index",intersect:!1},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Number of members busy"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Time"}}]},legend:{display:!0}}})}},{key:"componentDidUpdate",value:function(){if(this.props.data.stat){for(var e=this.props.data,t=["#00e676","#ff1744"],a=[],n=[],s=[],r=8;r<20;r++)a.push(e.stat[r]),r<10&&(r="0"+r),s.push(r+":00"),n.push(t[1]);a={labels:s,datasets:[{label:e.day,data:a,backgroundColor:"transparent",borderColor:"#2196f3"}]},this.zx.data=a,this.zx.update()}}},{key:"render",value:function(){return s.a.createElement("canvas",{width:"700px",ref:this.chartDom})}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={day:null},a.dayChange=a.dayChange.bind(Object(F.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("dashStat").classList.add("active"),V.a.FormSelect.init(document.querySelectorAll("select")),this.props.updateData(!0,"UPDATE_ORG_LOGGED"),this.props.timeStat||this.props.update()}},{key:"componentDidUpdate",value:function(){!this.props.timeStat&&this.props.loggedIn&&this.props.update()}},{key:"componentWillUnmount",value:function(){document.getElementById("dashStat").classList.remove("active")}},{key:"dayChange",value:function(e){this.setState({day:e.target.value-1})}},{key:"render",value:function(){var e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("div",{className:"card-title"},"Timing Statistics"),s.a.createElement("div",{className:"input-field col s10 l4 m6 offset-s1 offset-l4 offset-m3"},s.a.createElement("select",{id:"day",defaultValue:0,onChange:this.dayChange},s.a.createElement("option",{value:0,disabled:!0},"Choose a Day"),e.map((function(t){var a=e.indexOf(t)+1;return s.a.createElement("option",{key:a,value:a},t)})))),s.a.createElement("div",{className:"container row",style:{marginTop:40,overflow:"auto"}},this.props.timeStat?s.a.createElement(le,{data:{stat:this.props.timeStat[this.state.day],day:e[this.state.day]}}):s.a.createElement("div",null))))}}]),t}(s.a.Component);function oe(e){var t=e.slots[e.day].indexOf(e.slot)>-1?me:ue;return s.a.createElement("td",{style:t})}function ce(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return s.a.createElement("tr",null,function(){for(var a=[s.a.createElement("td",{key:"day",style:pe},t[e.day])],n=0;n<12;n++)5!==n&&a.push(s.a.createElement(oe,{key:n,slot:n,day:e.day,slots:e.slots}));return a}())}var de=function(e){var t=["08:00-\n08:50","09:00-\n09:50","10:00-\n10:50","11:00-\n11:50","12:00-\n12:50","13","14:00-\n14:50","15:00-\n15:50","16:00-\n16:50","17:00-\n17:50","18:00-\n18:50","19:00-\n19:50"];return s.a.createElement("div",null,s.a.createElement("legend",null,s.a.createElement("b",null,"TimeTable")),s.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},s.a.createElement("div",{style:{height:"15px",width:"30px",backgroundColor:"rgb(177, 198, 253)",display:"inline-block"}}),s.a.createElement("div",{style:{display:"inline-block",margin:"0px 40px 0px 10px"}},"Free"),s.a.createElement("div",{style:{height:"15px",width:"30px",backgroundColor:"#1e88e5",display:"inline-block"}}),s.a.createElement("div",{style:{display:"inline-block",marginLeft:"10px"}},"Busy"),s.a.createElement("div",null)),s.a.createElement("div",{style:{width:"100%",overflowY:"auto",margin:"10px 0px"}},s.a.createElement("table",{style:{border:"2px solid black"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,function(){for(var e=[s.a.createElement("td",{style:pe},"Day")],a=0;a<12;a++)5!==a?e.push(s.a.createElement("td",{style:pe},t[a])):e.push(s.a.createElement("td",{style:pe,rowspan:"8"},"Lunch"));return e}()),function(){for(var t=[],a=0;a<7;a++)t.push(s.a.createElement(ce,{key:a,day:a,slots:e.slots}));return t}()))))},me={border:"1px solid #585858",backgroundColor:"#1e88e5",borderStyle:"dotted"},ue={border:"1px solid #585858",backgroundColor:"rgb(177, 198, 253)",borderStyle:"dotted",zIndex:10},pe={border:"2px solid black",backgroundColor:"rgb(0, 78, 195)",color:"white",textAlign:"center",fontWeight:"900",fontSize:12},he=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{orderTop:"1px solid #bdbdbd",paddingTop:10}},s.a.createElement("div",{style:{textAlign:"center",marginBottom:"15px"}},s.a.createElement("div",{style:{fontSize:"30px"}},this.props.data.name),this.props.data.count?s.a.createElement("div",{style:{fontSize:"15px"}},"#"+this.props.data.count):s.a.createElement("div",null),s.a.createElement("div",{style:{fontSize:"15px"}},this.props.data.reg),s.a.createElement("div",{style:{fontSize:"15px"}},this.props.data.email),s.a.createElement("div",{style:{fontSize:"15px"}},this.props.data.phno),s.a.createElement("div",{style:{fontSize:"15px"}},this.props.data.rmno)),s.a.createElement(de,{slots:this.props.data.slots}))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={org:null},a.deFocus=a.deFocus.bind(Object(F.a)(a)),a.changed=a.changed.bind(Object(F.a)(a)),a.okay=!0,a.cpassChange=a.cpassChange.bind(Object(F.a)(a)),a.submit=a.submit.bind(Object(F.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){!this.props.org&&this.props.loggedIn&&this.props.updateOrg(),this.props.org&&this.okay&&(this.componentDidMount(),this.okay=!1)}},{key:"componentDidMount",value:function(){if(this.props.updateData(!0,"UPDATE_ORG_LOGGED"),this.props.org||this.props.updateOrg(),document.getElementById("dashSettings").classList.add("active"),this.props.org){var e=Object.assign({},this.props.org.details);e.passwd="",e.newCpasswd="",e.newPasswd="",this.setState({org:e})}}},{key:"componentWillUnmount",value:function(){document.getElementById("dashSettings").classList.remove("active")}},{key:"enableInput",value:function(e){e.preventDefault();var t=ee()(e.target).parents(".parentInput")[0],a=ee()(t).children(".input-field")[0],n=ee()(a).children()[0];ee()(n).prop("disabled",!1),ee()(n).focus()}},{key:"deFocus",value:function(e){ee()(e.target).prop("disabled",!0),e.target.value!==this.props.org[e.target.id]?e.target.classList.add("valid"):e.target.classList.remove("valid")}},{key:"changed",value:function(e){e.target.classList.remove("invalid"),e.target.classList.remove("valid");var t=this.state.org;t[e.target.id]=e.target.value,this.setState({org:t})}},{key:"passChange",value:function(e){e.target.classList.remove("invalid"),e.target.classList.remove("valid"),e.target.value.length&&(e.target.value.length<4?e.target.classList.add("invalid"):e.target.classList.add("valid"))}},{key:"cpassChange",value:function(e){if(e.target.value.length)return this.state.org.newPasswd===this.state.org.newCpasswd?e.target.classList.add("valid"):e.target.classList.add("invalid")}},{key:"submit",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({err:null,status:null,msg:null}),a=new FormData,!(this.state.org.passwd.length>=4)){e.next=32;break}if(a.append("name",this.state.org.name),a.append("descr",this.state.org.descr),a.append("gravatar",this.state.org.gravatar),a.append("passwd",this.state.org.passwd),!this.state.org.newPasswd){e.next=14;break}if(!(this.state.org.newPasswd.length>=4&&this.state.org.newPasswd===this.state.org.newCpasswd)){e.next=13;break}a.append("newPasswd",this.state.org.newPasswd),e.next=14;break;case 13:return e.abrupt("return",this.setState({err:"Enter a valid new password"}));case 14:return a.append("usid",this.state.org.usid),this.setState({status:"Saving..."}),e.prev=16,e.next=19,f.a.patch(w+"/auth",a);case 19:this.setState({status:null}),this.setState({msg:"Saved."}),this.state.org.passwd=this.state.org.newCpasswd=this.state.org.newPasswd="",this.setState({org:this.state.org}),this.props.org.details=Object.assign({},this.state.org),this.props.org.details.passwd=this.props.org.details.newCpasswd=this.props.org.details.newPasswd=void 0,this.props.updateData(null,"UPDATE_ORG_DETAILS"),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(16),401===e.t0.response.status?(this.setState({err:"Wrong password entered"}),this.setState({msg:null}),this.setState({status:null})):alert("server error");case 31:return e.abrupt("return");case 32:return e.abrupt("return",this.setState({err:"Enter your valid password"}));case 33:case"end":return e.stop()}}),e,this,[[16,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.org?s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"card-title"},"Edit Organization Details"),s.a.createElement("div",{className:"container row",style:{marginTop:40}},s.a.createElement("form",{onSubmit:this.submit},s.a.createElement("div",{className:"parentInput"},s.a.createElement("div",{className:"col inputSideTitle s12"},"Name of Organization:"),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{id:"name",className:"",disabled:!0,type:"text",value:this.state.org.name,onChange:this.changed,style:{color:"#37474f"},onBlur:this.deFocus})),s.a.createElement("div",{className:"col s1",style:{padding:0}},s.a.createElement("button",{style:{cursor:"pointer"},onClick:this.enableInput},s.a.createElement("i",{className:"black-text material-icons prefix"},"edit")))),s.a.createElement("div",{className:"parentInput"},s.a.createElement("div",{className:"col inputSideTitle s12"},"Tag line:"),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{id:"descr",className:"",disabled:!0,type:"text",value:this.state.org.descr,onChange:this.changed,style:{color:"#37474f"},onBlur:this.deFocus})),s.a.createElement("div",{className:"col s1",style:{padding:0}},s.a.createElement("button",{style:{cursor:"pointer"},onClick:this.enableInput},s.a.createElement("i",{className:"black-text material-icons prefix"},"edit")))),s.a.createElement("div",{className:"parentInput"},s.a.createElement("div",{className:"col inputSideTitle s12"},"Gravatar Email ID:"),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{id:"gravatar",className:"",disabled:!0,type:"text",value:this.state.org.gravatar,onChange:this.changed,style:{color:"#37474f"},onBlur:this.deFocus})),s.a.createElement("div",{className:"col s1",style:{padding:0}},s.a.createElement("button",{style:{cursor:"pointer"},onClick:this.enableInput},s.a.createElement("i",{className:"black-text material-icons prefix"},"edit")))),s.a.createElement("fieldset",{style:{marginBottom:20}},s.a.createElement("legend",null,"Change password"),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{id:"newPasswd",className:"",type:"password",value:this.state.org.newPasswd,onChange:this.changed,onBlur:this.passChange,style:{color:"#37474f"}}),s.a.createElement("label",{htmlFor:"newPasswd"},"New Password"),s.a.createElement("span",{className:"helper-text","data-error":"Password must have atleast 4 char"})),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{id:"newCpasswd",className:"",type:"password",value:this.state.org.newCpasswd,onChange:this.changed,onBlur:this.cpassChange,style:{color:"#37474f"}}),s.a.createElement("label",{htmlFor:"newCpasswd"},"Confirm new Password"),s.a.createElement("span",{className:"helper-text","data-error":"Passwords do not match"}))),s.a.createElement("div",{className:"parentInput"},s.a.createElement("div",{className:"col inputSideTitle s12"},"Confirm current password"),s.a.createElement("div",{className:"input-field col s10 offset-s1"},s.a.createElement("input",{placeholder:"Enter your current password",id:"passwd",className:"",type:"password",onChange:this.changed,value:this.state.org.passwd,style:{color:"#37474f"}}))),s.a.createElement("div",{className:"col s12 red-text"},this.state.err),s.a.createElement("div",{className:"col s12 green-text"},this.state.msg),s.a.createElement("div",{className:"col s12 grey-text"},this.state.status),s.a.createElement("div",{className:"input-field col s12",style:{textAlign:"center"}},s.a.createElement("input",{value:"save",className:"waves-effect waves-light btn",type:"submit"})))))):s.a.createElement("span",null)}}]),t}(n.Component),ge={height:64,position:"fixed",width:300,top:0,left:0,zIndex:900,backgroundColor:"#0044A9"},Ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{id:"upperLeftDash",className:"row",style:ge},s.a.createElement("div",{className:"col s1 hide-on-med-and-up"},s.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return V.a.Sidenav.init(document.getElementById("bottomLeftDash")).open()}},s.a.createElement("i",{style:{fontSize:30},className:"material-icons"},"menu"))),s.a.createElement("div",{className:"col s11 m12",style:{fontSize:35,textAlign:"center",cursor:"pointer"}},s.a.createElement("i",{className:"material-icons prefix",style:{verticalAlign:"inherit",fontSize:30,display:"inline-block",paddingRight:20}},"dashboard"),s.a.createElement("div",{style:{display:"inline-block"}},"Freeslot")))}}]),t}(n.Component),fe={height:64,position:"fixed",top:0,left:300,right:0,zIndex:106},be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).find=a.find.bind(Object(F.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.data){var e={};this.props.data.map((function(t){return e[t.reg+" ("+t.name+")"]=null,t}));var t=document.querySelectorAll(".autocomplete");V.a.Autocomplete.init(t,{data:e,onAutocomplete:this.find})}}},{key:"find",value:function(e){e=e.split(" ")[0];var t=this.props.data;window.asd=t;var a=t.findIndex((function(t){return t.reg===e}));this.props.select(t[a],"UPDATE_MODAL_SELECTED"),this.props.selected.instance.open(),ee()("#autocomplete-input")[0].value=""}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"upperRightDash",style:fe},s.a.createElement("nav",{className:"white",style:{color:"#424242"}},s.a.createElement("div",{className:"nav-wrapper row"},s.a.createElement("div",{className:"col m6 offset-m3 s9"},s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.find(document.getElementById("autocomplete-input").value)}},s.a.createElement("div",{className:"input-field",style:{margin:0}},s.a.createElement("i",{style:{marginTop:"-6px"},className:"material-icons prefix"},"search"),s.a.createElement("input",{onFocus:function(){e.props.data||e.props.updateMem(!0)},type:"text",id:"autocomplete-input",autoComplete:"off",className:"autocomplete",placeholder:"Search by registration number"})))),s.a.createElement("div",{className:"col s3"},s.a.createElement("ul",{className:"right"},s.a.createElement("li",null,s.a.createElement("div",{style:{cursor:"pointer"},onClick:this.props.update},s.a.createElement("i",{className:"material-icons prefix",style:{fontSize:40,color:"#424242"}},"refresh"))))))))}}]),t}(n.Component),ye=a(135),we={position:"fixed",width:"300px",height:"auto",bottom:0,top:"64px",left:"0px",zIndex:103},Oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){y.a.set("token",""),localStorage.clear(),window.location.href=""}},{key:"close",value:function(){ee()(".sidenav-overlay").trigger("click")}},{key:"render",value:function(){return s.a.createElement("nav",{id:"bottomLeftDash",className:"sideNav grey darken-4",style:we},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"",style:{marginTop:0}},s.a.createElement(ye.a,{id:"dashHome",to:"/dashboard/home",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"home"),s.a.createElement("span",{className:"sideName"},"Home")),s.a.createElement(ye.a,{to:"/dashboard/members",id:"dashMems",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"people"),s.a.createElement("span",{className:"sideName"},"Members"),s.a.createElement("span",{className:"badge"},void 0===this.props.members?(void 0).length:null)),s.a.createElement(ye.a,{to:"/dashboard/requests",id:"dashReqs",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"person_add"),s.a.createElement("span",{className:"sideName"},"Member Requests"),s.a.createElement("span",{className:"badge"},void 0===this.props.requests?(void 0).length:null)),s.a.createElement(ye.a,{to:"/dashboard/find",id:"dashGetMem",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"contact_phone"),s.a.createElement("span",{className:"sideName"},"Get a member")),s.a.createElement(ye.a,{to:"/dashboard/plan",id:"dashPlan",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"timelapse"),s.a.createElement("span",{className:"sideName"},"Plan Desk Duties")),s.a.createElement(ye.a,{to:"/dashboard/statistics",id:"dashStat",className:"nItem",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"access_time"),s.a.createElement("span",{className:"sideName"},"Timing Statistics"))),s.a.createElement("div",{style:{marginTop:40,position:"absolute",bottom:0,width:"100%"}},s.a.createElement(ye.a,{to:"/dashboard/settings",className:"nItem",id:"dashSettings",onClick:this.close},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"settings"),s.a.createElement("span",{className:"sideName"},"Settings")),s.a.createElement("div",{style:{cursor:"pointer"},id:"dashLogout",className:"nItem",onClick:this.logout},s.a.createElement("i",{className:"material-icons",style:{display:"inline-block"}},"all_out"),s.a.createElement("span",{className:"sideName"},"Logout")))))}}]),t}(n.Component),De={position:"absolute",top:64,left:300,right:0,bottom:0,padding:20,overflowY:"auto",zIndex:100},ke=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"bottomRightDash",className:"bottomRightDash grey lighten-2",style:De},this.props.children)}}]),t}(n.Component),Ne={position:"absolute",top:64,left:300,right:0,bottom:0,padding:20,overflowY:"auto",zIndex:104},Se=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(Ee,null),s.a.createElement(Oe,{selected:this.props.dashSelected,select:this.props.updateSelected,members:this.props.dashMembers,requests:this.props.dashRequests}),s.a.createElement(be,{updateMem:this.props.updateMem,update:this.props.updateDashboardData,data:this.props.dashMembers,selected:this.props.dashModal,select:this.props.updateData}),s.a.createElement(ke,null)),s.a.createElement("div",{className:"bottomRightDash",style:Ne},s.a.createElement("div",{className:"innerDash",style:{height:"calc(100vh - 124px)",overflow:"visible"}},this.props.children)))}}]),t}(n.Component);var xe=Object(p.b)((function(e){return e}),(function(e){return Object(u.b)({updateDashboardData:k,updateData:W,updateMem:A},e)}))(Se),_e=function(e){return s.a.createElement("table",{className:"highlight centered striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Time"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"RegNo"),s.a.createElement("th",null,"\xa0"))),s.a.createElement("tbody",null,s.a.createElement(Ae,{viewMem:e.viewMem,members:e.members})))};function Ae(e){var t=[];return e.members.forEach((function(a,n){a&&a.reg?t.push(s.a.createElement("tr",{key:a.reg},s.a.createElement("td",null,"".concat(a.forSlot,":00-").concat(a.forSlot+1,":00")),s.a.createElement("td",null,a.name),s.a.createElement("td",null,a.reg),s.a.createElement("td",null,s.a.createElement("a",{onClick:function(){return e.viewMem(a)},style:{cursor:"pointer"}},"View more...")))):t.push(s.a.createElement("tr",{key:n},s.a.createElement("td",null,"".concat(a.forSlot,":00-").concat(a.forSlot+1,":00")),s.a.createElement("td",{colSpan:3},"No one's available")))})),t}function Te(e){return e.members?s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content row"},s.a.createElement("div",{className:"card-title"},e.title),s.a.createElement(_e,{viewMem:e.viewMem,members:e.members}))):s.a.createElement("div",null)}var je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={members:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("dashPlan").classList.add("active")}},{key:"componentWillUnmount",value:function(){document.getElementById("dashPlan").classList.remove("active")}},{key:"viewMem",value:function(e){this.props.updateData(e,"UPDATE_MODAL_SELECTED"),this.props.selected.instance.open()}},{key:"send",value:function(){var e=Object(g.a)(v.a.mark((function e(t,a,n,s){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({disableBtn:!0}),this.setState({status:"Planning..."}),e.prev=2,e.next=5,f()({url:"".concat(w,"/auth/members/getplan?start=").concat(t,"&end=").concat(a,"&day=").concat(n,"&mem=").concat(s),headers:{Authorization:"Bearer "+y.a.get("token")},method:"GET"});case 5:r=e.sent,this.setState({members:r.data.members}),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(2),404===e.t0.request.status&&this.setState({members:[]}),401!==e.t0.request.status){e.next=17;break}throw this.props.updateData(!1,"UPDATE_ORG_LOGGED"),e.t0;case 17:window.location.reload();case 18:this.setState({disableBtn:!1}),this.setState({status:null});case 20:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(te,{title:"Plan Desk Duties",onSubmit:this.send.bind(this),status:this.state.status,memberView:!0,disableBtn:this.state.disableBtn}),s.a.createElement(Te,{viewMem:this.viewMem.bind(this),title:"Available Members",members:this.state.members}))}}]),t}(s.a.Component),Re=a(138),Pe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.modalRef.current.getElementsByClassName("modal-content")[0].scrollTop=0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"dashModalMem",ref:this.props.modalRef,className:"modal modal-fixed-footer"},s.a.createElement("div",{className:"modal-content"},e.props.member?s.a.createElement(he,{data:e.props.member}):s.a.createElement("h5",null,"Member Not Found")),s.a.createElement("div",{className:"modal-footer",ref:this.modalFooter},s.a.createElement("button",{style:{cursor:"pointer"},className:"modal-close waves-effect waves-green btn-flat"},s.a.createElement("b",null,"Close"))))}}]),t}(n.Component);function Ce(e){return e.loggedIn?s.a.createElement("div",null):s.a.createElement("div",{className:"loader",style:{position:"fixed",top:70,bottom:0,left:305,right:0,zIndex:105,background:"#e0e0e0",padding:20}},s.a.createElement("div",{className:"preloader-wrapper big active",style:{height:200,width:200,position:"absolute",top:"50%",left:"50%",margin:-100}},s.a.createElement("div",{className:"spinner-layer spinner-green-only"},s.a.createElement("div",{className:"circle-clipper left"},s.a.createElement("div",{className:"circle",style:{border:"7px dashed rgb(0, 68, 169)"}})),s.a.createElement("div",{className:"gap-patch"},s.a.createElement("div",{className:"circle"})),s.a.createElement("div",{className:"circle-clipper right"},s.a.createElement("div",{className:"circle",style:{border:"10px dashed rgb(0, 68, 169)"}})))))}var Me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).sideNav=s.a.createRef(),a.Modal=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){!1===this.props.isLoggedIn&&(y.a.set("token",""),window.location.href="/")}},{key:"componentDidMount",value:function(){document.title="Dashboard | FreeSlot";var e=document.querySelectorAll(".sidenav");window.sideInstance=V.a.Sidenav.init(e[0]);var t=V.a.Modal.init(this.Modal.current);this.props.updateData(t,"UPDATE_MODAL_INSTANCE")}},{key:"render",value:function(){return y.a.get("token")?s.a.createElement("div",null,s.a.createElement(R.a,null,s.a.createElement(P.a,null,s.a.createElement(C.a,{exact:!0,path:"/dashboard/"},s.a.createElement(xe,null,s.a.createElement(q,{updateData:this.props.updateData,updateOrg:this.props.updateOrg,org:this.props.dashDetails,loggedIn:this.props.isLoggedIn}))),s.a.createElement(C.a,{path:"/dashboard/home"},s.a.createElement(xe,null,s.a.createElement(q,{updateData:this.props.updateData,updateOrg:this.props.updateOrg,org:this.props.dashDetails,loggedIn:this.props.isLoggedIn}))),s.a.createElement(C.a,{path:"/dashboard/members"},s.a.createElement(xe,null,s.a.createElement(Z,{updateMem:this.props.updateMem,updateData:this.props.updateData,members:this.props.dashMembers,loggedIn:this.props.isLoggedIn}))),s.a.createElement(C.a,{path:"/dashboard/requests"},s.a.createElement(xe,null,s.a.createElement(K,{updateReq:this.props.updateReq,updateData:this.props.updateData,membersReq:this.props.dashRequests,loggedIn:this.props.isLoggedIn}))),s.a.createElement(C.a,{path:"/dashboard/find"},s.a.createElement(xe,null,s.a.createElement(ne,{updateData:this.props.updateData}))),s.a.createElement(C.a,{path:"/dashboard/settings"},s.a.createElement(xe,null,s.a.createElement(ve,{updateData:this.props.updateData,updateOrg:this.props.updateOrg,org:this.props.dashDetails,loggedIn:this.props.isLoggedIn}))),s.a.createElement(C.a,{path:"/dashboard/plan"},s.a.createElement(xe,null,s.a.createElement(je,{selected:this.props.dashModal,updateData:this.props.updateData}))),s.a.createElement(C.a,{path:"/dashboard/statistics"},s.a.createElement(xe,null,s.a.createElement(ie,{updateData:this.props.updateData,update:this.props.timeStat,timeStat:this.props.dashtimeStat,loggedIn:this.props.isLoggedIn}))))),s.a.createElement(Ce,{loggedIn:this.props.isLoggedIn}),s.a.createElement(Pe,{modalRef:this.Modal,member:this.props.dashModal.selected})):s.a.createElement(Re.a,{to:"/"})}}]),t}(n.Component);var Ie=Object(p.b)((function(e){return e}),(function(e){return Object(u.b)({timeStat:j,updateReq:_,updateMem:A,updateOrg:T,updateData:W,updateDashboardData:k,del:N,verify:S},e)}))(Me);function Le(e){var t=e.footerFixed?"modal-fixed-footer":"",a=e.style,n=e.title,r=e.children,l=e.footer;return s.a.createElement("div",{id:"memReg",className:"modal ".concat(t||"autoHeight"),style:{top:"5%!important",maxHeight:t?"90%":"fit-content"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("h4",null,n),s.a.createElement("div",{className:"card-content row"},r)),s.a.createElement("div",{style:{display:t?"flex":"none",justifyContent:"space-around"},className:"modal-footer"},function(){var e=[];return l.forEach((function(t,a){e.push(s.a.createElement("button",{key:a,onClick:t.onClick,className:"".concat(t.disableBtn?"btn-disabled":""," waves-effect waves-green btn themeBlue")},t.disableBtn?t.disabledTitle:t.title))})),e}()),s.a.createElement("div",{style:a,ref:e.modalDom,className:"".concat(t?"fixed-subModal":""," modal ").concat(t||"autoHeight")},s.a.createElement("div",{className:"modal-content"},e.subModalContent),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("a",{href:"#!",onClick:e.subModalAction,className:"waves-effect waves-green btn-flat"},s.a.createElement("b",null,"Close")))))}function Ge(){return s.a.createElement("div",null,s.a.createElement("h5",{style:{margin:0}},"Download Extenstion"),"Install a small extention to extract timetable from VTOP.",s.a.createElement("div",{style:{textAlign:"center",position:"relative"}},s.a.createElement("img",{alt:"download browser's extention",src:a(129),width:"80%",useMap:"#map"}),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{position:"absolute",top:0,height:"100%",left:0,width:"50%"},href:"http://awasthishubh.github.io/host-files/freeslot-1.1-an+fx.xpi"}," "),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{position:"absolute",top:0,height:"100%",left:"50%",width:"50%"},href:"https://chrome.google.com/webstore/detail/freeslot/lfnajapcpchmnpnjfenkneiphhmhhafa/"}," ")),s.a.createElement("div",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://awasthishubh.github.io/host-files/freeslot-1.1-an+fx.xpi"},s.a.createElement("span",{style:{float:"left"}},"Firefox Addon")),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/freeslot/lfnajapcpchmnpnjfenkneiphhmhhafa/"},s.a.createElement("span",{style:{float:"right"}},"Chrome Webstore"))))}var Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={valReg:!1,valEmail:!1,valPhno:!1,valOrg:!1,valImage:!1,err:null},a.onChange=a.onChange.bind(Object(F.a)(a)),a.modalDom=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){V.a.Modal.init(document.querySelectorAll("#memReg")[0]);var e=document.querySelectorAll("select");V.a.FormSelect.init(e);try{var t=JSON.parse(window.atob(function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(decodeURIComponent(n[0])===e)return decodeURIComponent(n[1])}return!1}("data")));t&&(this.setState({modal:"CONFIRMATION"}),this.props.updateData({name:t.name,reg:t.reg,email:t.email,phno:t.phno,rmno:t.hostel,org:"",slots:t.slots,timeTable:{}},"UPDATE_MEM_ALL"),this.setState({slots:t.slots}),this.setState({valReg:!0}),this.setState({valEmail:!0}),this.setState({valPhno:!0}))}catch(a){}}},{key:"componentDidUpdate",value:function(){var e=document.querySelectorAll("select");V.a.FormSelect.init(e)}},{key:"mem",value:function(){if(this.state.subErr){if(400===this.state.subErr.status)return s.a.createElement("div",null,s.a.createElement("h4",null,"Image file not recognised"),"Constraints for uploaded screnshot:",s.a.createElement("ul",{className:"browser-default",style:{listStyleType:"disc"}},s.a.createElement("li",null,s.a.createElement("a",{onClick:this.getExt.bind(this),style:{cursor:"pointer"}},"Get it from vtop.")),s.a.createElement("li",null," Image must be png file"),s.a.createElement("li",null," Image must be horizontally complete, i.e. must show all 13 slots in a day for all the included days"),s.a.createElement("li",null," Every individual cell included in the image should be present completely. The cropping should not overlap text inside the slot boxes")));if(409===this.state.subErr.status)return s.a.createElement("div",null,s.a.createElement("h4",null,"You are already a part of selected organisation"),"Contact your organisation's maintainer if you need to re-register");if(404===this.state.subErr.status)return s.a.createElement("div",null,s.a.createElement("h4",null,"Invalid Organisation ID"),"Contact your organisation for unique id")}return this.state.subMiss?s.a.createElement("div",null,s.a.createElement("h4",null,"Incomplete form"),"You missed ",s.a.createElement("b",null,this.state.subMiss)," field"):this.state.downloadExt?s.a.createElement(Ge,null):null}},{key:"onChange",value:function(e,t,a){e.target.classList.remove("invalid"),e.target.classList.remove("valid"),this.props.updateData(e.target.value,t),a&&(e.target.value?e.target.classList.add("valid"):e.target.classList.add("invalid"))}},{key:"validateReg",value:function(e){e.target.classList.remove("invalid"),e.target.classList.remove("valid"),e.target.value&&(/^[0-9]{2}[A-Z]{3}[0-9]{4}$/.test(e.target.value)?(e.target.classList.add("valid"),this.setState({valReg:!0})):(e.target.classList.add("invalid"),this.setState({valReg:!1})))}},{key:"validateEmail",value:function(e){if(e.target.value=e.target.value.toLowerCase(),e.target.classList.remove("invalid"),e.target.classList.remove("valid"),e.target.value){/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.target.value)?(e.target.classList.add("valid"),this.setState({valEmail:!0})):(e.target.classList.add("invalid"),this.setState({valEmail:!1}))}}},{key:"validateFile",value:function(e){document.querySelector(".file-path").classList.remove("invalid"),document.querySelector(".file-path").classList.remove("valid"),this.props.updateData(e.target.files[0],"UPDATE_TT"),e.target.files[0]&&"image/png"===e.target.files[0].type?(document.querySelector(".file-path").classList.add("valid"),this.setState({valImage:!0})):(document.querySelector(".file-path").classList.add("invalid"),this.setState({valImage:!1}))}},{key:"validatePhno",value:function(e){e.target.classList.remove("invalid"),e.target.classList.remove("valid"),10===e.target.value.length?(e.target.classList.add("valid"),this.setState({valPhno:!0})):(e.target.classList.add("invalid"),this.setState({valPhno:!1}))}},{key:"parseImg",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({subErr:null}),this.setState({subMem:null}),this.setState({subMiss:null}),this.state.valImage){e.next=8;break}this.setState({subMiss:"Image File"}),e.next=26;break;case 8:return this.setState({disableBtn:!0}),(a=new FormData).append("timeTable",this.props.MemDetails.timeTable),e.prev=11,e.next=14,f.a.post(w+"/parseimg",a);case 14:return n=e.sent,this.props.updateData(n.data.slots,"UPDATE_SLOTS"),this.setState({modal:"CONFIRMATION"}),this.setState({err:null}),this.setState({disableBtn:!1}),e.abrupt("return");case 22:e.prev=22,e.t0=e.catch(11),this.setState({disableBtn:!1}),this.setState({subErr:e.t0.response});case 26:this.setState({disableBtn:!1}),V.a.Modal.init(this.modalDom.current),V.a.Modal.getInstance(this.modalDom.current).open();case 29:case"end":return e.stop()}}),e,this,[[11,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){V.a.Modal.getInstance(this.modalDom.current).close()}},{key:"getExt",value:function(){this.setState({downloadExt:!0}),this.setState({subErr:!1}),this.setState({subMiss:!1}),V.a.Modal.init(this.modalDom.current),V.a.Modal.getInstance(this.modalDom.current).open()}},{key:"submitAnother",value:function(){this.setState({modal:"SUBMIT"}),this.props.updateData("","RESET_MEM_DETAILS")}},{key:"confirmed",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({disableBtn:!0}),t.preventDefault(),this.setState({subErr:null}),this.setState({subMem:null}),this.setState({subMiss:null}),this.props.MemDetails.name){e.next=9;break}this.setState({subMiss:"Name"}),e.next=45;break;case 9:if(this.state.valReg){e.next=13;break}this.setState({subMiss:"Registration Number"}),e.next=45;break;case 13:if(this.state.valEmail){e.next=17;break}this.setState({subMiss:"Email"}),e.next=45;break;case 17:if(this.state.valPhno){e.next=21;break}this.setState({subMiss:"Phno Number"}),e.next=45;break;case 21:if(this.props.MemDetails.org){e.next=25;break}this.setState({subMiss:"Organisation"}),e.next=45;break;case 25:if(this.props.MemDetails.rmno){e.next=29;break}this.setState({subMiss:"Room Number"}),e.next=45;break;case 29:return e.prev=29,e.next=32,f.a.post(w+"/member",this.props.MemDetails);case 32:return a=e.sent,this.setState({subMem:a.data}),this.setState({modal:"RESPONSE"}),this.props.updateData("","RESET_MEM_DETAILS"),this.setState({err:null}),this.setState({disableBtn:!1}),e.abrupt("return");case 41:e.prev=41,e.t0=e.catch(29),this.setState({subErr:e.t0.response}),this.setState({disableBtn:!1});case 45:this.setState({disableBtn:!1}),V.a.Modal.init(this.modalDom.current),V.a.Modal.getInstance(this.modalDom.current).open();case 48:case"end":return e.stop()}}),e,this,[[29,41]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}())return s.a.createElement(Le,{footerFixed:!1,style:{top:"5%",maxHeight:"90%"},modalDom:this.modalDom,footer:[]},s.a.createElement("h4",null,"Mobile Browser detected."),s.a.createElement("p",null,"This feature is available only on desktop browser."));if("RESPONSE"===this.state.modal)return s.a.createElement(Le,{footerFixed:!0,style:{top:"5%",maxHeight:"90%"},title:"Registered Successfully!",err:"",subModalContent:this.mem.bind(this)(),subModalAction:this.close.bind(this),modalDom:this.modalDom,footer:[{title:"Submit Another",onClick:function(){e.setState({modal:"SUBMIT"})}},{title:"Close",onClick:function(){V.a.Modal.getInstance(document.getElementById("memReg")).close()}}]},s.a.createElement(he,{data:this.state.subMem.data}));var t="CONFIRMATION"===this.state.modal;return s.a.createElement(Le,{footerFixed:!!t,style:{top:"5%",maxHeight:"90%"},title:t?"Confirm Your Details":"Enter Your Details",subModalContent:this.mem.bind(this)(),subModalAction:this.close.bind(this),modalDom:this.modalDom,footer:t?[{title:"Submit Another",onClick:this.submitAnother.bind(this)},{title:"Confirm",disabledTitle:"Sending...",disableBtn:this.state.disableBtn||this.state.disableBtn,onClick:this.confirmed.bind(this)}]:[]},s.a.createElement("form",{id:"regfrm",onSubmit:this.parseImg.bind(this)},Fe.bind(this)(),t?s.a.createElement(de,{slots:this.props.MemDetails.slots}):s.a.createElement(ze,{id:"fle",label:"TimeTable",extClick:this.getExt.bind(this),disableBtn:this.state.disableBtn,onChange:this.validateFile.bind(this)})))}}]),t}(n.Component);var Be=Object(p.b)((function(e){return e}),(function(e){return Object(u.b)({updateData:W},e)}))(Ue);function qe(e){return s.a.createElement("div",{className:"input-field col m6 s12"},s.a.createElement("input",{id:e.id,type:"text",onBlur:e.onBlur,value:e.value,onChange:e.onChange}),s.a.createElement("label",{htmlFor:e.id},e.label),s.a.createElement("span",{className:"helper-text","data-error":e.errorText}))}function Fe(){var e=this;return s.a.createElement("div",{className:"row",style:{marginBottom:0}},s.a.createElement(qe,{id:"mem_name",label:"Name",value:this.props.MemDetails.name,onChange:function(t){return e.onChange(t,"UPDATE_NAME",1)},errorText:"Name is required"}),s.a.createElement(qe,{id:"mem_org",label:"Organisation ID",value:this.props.MemDetails.org,onChange:function(t){return e.onChange(t,"UPDATE_ORG",1)},errorText:"Organisation ID is required"}),s.a.createElement(qe,{id:"mem_reg",label:"Registration Number",value:this.props.MemDetails.reg,onChange:function(t){t.target.value=t.target.value.toUpperCase(),e.onChange(t,"UPDATE_REG")},onBlur:this.validateReg.bind(this),errorText:"Enter a valid registration number"}),s.a.createElement(qe,{id:"mem_email",label:"Email",value:this.props.MemDetails.email,onChange:function(t){return e.onChange(t,"UPDATE_EMAIL")},onBlur:this.validateEmail.bind(this),errorText:"Enter a valid email address"}),s.a.createElement(qe,{id:"mem_phno",label:"Phone Number",value:this.props.MemDetails.phno,onChange:function(t){return e.onChange(t,"UPDATE_PHNO")},onBlur:this.validatePhno.bind(this),errorText:"Enter a valid 10 digint Phone Number"}),s.a.createElement(qe,{id:"mem_rmno",label:"Block-RoomNumber",value:this.props.MemDetails.rmno,onChange:function(t){return e.onChange(t,"UPDATE_RMNO",1)},errorText:"Enter Room Number"}),s.a.createElement("input",{type:"submit",style:{position:"absolute",left:-9999}}))}function ze(e){return s.a.createElement("fieldset",null,s.a.createElement("legend",null,s.a.createElement("b",null,"TimeTable")),s.a.createElement("div",{className:"row",style:{marginBottom:0,position:"relative"}},s.a.createElement("div",{className:"file-field input-field col s12 m6"},s.a.createElement("div",{className:"btn"},s.a.createElement("span",null,"Upload"),s.a.createElement("input",{id:e.id,type:"file",onChange:e.onChange})),s.a.createElement("div",{className:"file-path-wrapper"},s.a.createElement("input",{className:"file-path",type:"text"}),s.a.createElement("span",{className:"helper-text","data-error":"Select a PNG file only"}))),s.a.createElement("span",{className:"hide-on-small-only col s1",style:{textAlign:"center",fontSize:20,padding:10}},"OR"),s.a.createElement("div",{className:"col s12 hide-on-med-and-up",style:{textAlign:"center"}},"OR"),s.a.createElement("div",{className:"input-field  col m5 s12",style:{textAlign:"center",fontSize:20,padding:10}},s.a.createElement("a",{onClick:e.extClick,style:{cursor:"pointer"}},"Get it from vtop."),s.a.createElement("br",null),"(Recommended)")),s.a.createElement("div",{className:"col s12",style:{textAlign:"center",marginTop:7}},s.a.createElement("button",{className:"".concat(e.disableBtn?"btn-disabled":""," btn waves-effect waves-light"),type:"submit",name:"action"},e.disableBtn?"Parsing...":"Parse Timetable",e.disableBtn?"":s.a.createElement("i",{className:"material-icons right"},"send"))))}var Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).isFilled=a.isFilled.bind(Object(F.a)(a)),a.send=a.send.bind(Object(F.a)(a)),a.state={login_usid:!1,login_pass:!1,err:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"isFilled",value:function(e){e.target.classList.remove("valid"),e.target.classList.remove("invalid");var t=[];t[e.target.id]=e.target.value,this.setState(t),e.target.value?e.target.classList.add("valid"):e.target.classList.add("invalid")}},{key:"send",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),localStorage.clear(),!this.state.login_usid||!this.state.login_pass){e.next=23;break}return(a=new FormData).append("usid",this.state.login_usid),a.append("passwd",this.state.login_pass),e.prev=6,this.setState({status:"Verifying..."}),this.setState({err:null}),e.next=11,f.a.post(w+"/auth",a);case 11:n=e.sent,y.a.set("token",n.data.access_token,{expires:7}),window.location.href="/dashboard",this.setState({status:null}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),this.setState({status:null}),e.t0.response,this.setState({err:"Invalid id/password"});case 21:e.next=24;break;case 23:this.setState({err:"Enter id and password"});case 24:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h5",null,s.a.createElement("center",null,"Enter your login credentials"))),s.a.createElement("form",{onSubmit:this.send},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{id:"login_usid",className:"",onChange:function(t){t.target.value=t.target.value.toLowerCase(),e.isFilled(t)},type:"text"}),s.a.createElement("label",{htmlFor:"login_usid"},"Organisation ID"),s.a.createElement("span",{className:"helper-text","data-error":"Organisation id is required"})),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{id:"login_pass",type:"password",onChange:this.isFilled}),s.a.createElement("label",{htmlFor:"login_pass"},"Password"),s.a.createElement("span",{className:"helper-text","data-error":"Password in required"})),s.a.createElement("div",{className:"red-text"},this.state.err),s.a.createElement("div",{className:"grey-text"},this.state.status),s.a.createElement("center",null,s.a.createElement("input",{type:"submit",className:"white-text waves-effect waves-light btn",value:"Login"}))),s.a.createElement("div",{className:"col s12",style:{marginTop:40,textAlign:"right",color:"grey"}},s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(t){return e.props.change(!0)}},"Register your Organisation?")))}}]),t}(n.Component);var We,Ye=Object(p.b)((function(e){return e}),(function(e){return Object(u.b)({updateData:W},e)}))(Ve),He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).orgChange=a.orgChange.bind(Object(F.a)(a)),a.send=a.send.bind(Object(F.a)(a)),a.checkPass=a.checkPass.bind(Object(F.a)(a)),a.passValidiate=a.passValidiate.bind(Object(F.a)(a)),a.vailidate=a.vailidate.bind(Object(F.a)(a)),a.state={stat:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",(function(e){e.data.token&&(y.a.set("token",e.data.token,{expires:7}),window.location.href="/dashboard",window.location.reload())}),!1)}},{key:"orgChange",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelector("#org_id").classList.remove("valid"),document.querySelector("#org_id").classList.remove("invalid"),a=t.target.value.toLowerCase(),this.props.updateData(a,"UPDATE_ORG_USID"),""!==a){e.next=6;break}return e.abrupt("return",this.props.updateData(null,"VALIDIATE_ORG_USID"));case 6:this.props.updateData("loading","VALIDIATE_ORG_USID"),clearTimeout(We),n=this.props.updateData,We=setTimeout(Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,f.a.get(w+"/organisations/avbl?usid="+a);case 4:t=e.sent.data.available,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),!1===e.t0.response.data.available&&(t=!1);case 10:t?(n(!0,"VALIDIATE_ORG_USID"),document.querySelector("#org_id").classList.add("valid")):(n(!1,"VALIDIATE_ORG_USID"),document.querySelector("#org_id").classList.add("invalid"));case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),2e3);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.clear(),t.preventDefault(),!((a=this.props.validation).usid&&a.passwd&&a.name&&a.cPasswd&&"loading"!==a.usid)){e.next=16;break}return(n=new FormData).append("usid",this.props.OrgReg.usid),n.append("passwd",this.props.OrgReg.passwd),n.append("name",this.props.OrgReg.name),n.append("descr",this.props.OrgReg.descr),n.append("dp",this.props.OrgReg.dp),this.setState({stat:"Sending..."}),e.next=13,f.a.post(w+"/organisations",n);case 13:s=e.sent,y.a.set("token",s.data.token,{expires:7}),window.location.href="/dashboard";case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"passValidiate",value:function(e){document.querySelector("#org_pass").classList.remove("invalid"),document.querySelector("#org_pass").classList.remove("valid"),this.props.updateData(e.target.value,"UPDATE_ORG_PASSWD"),e.target.value.length<4?(document.querySelector("#org_pass").classList.add("invalid"),this.props.updateData(!1,"VALIDIATE_ORG_PASSWD")):(document.querySelector("#org_pass").classList.add("valid"),this.props.updateData(!0,"VALIDIATE_ORG_PASSWD")),document.querySelector("#org_pass_c").classList.remove("invalid"),document.querySelector("#org_pass_c").classList.remove("valid")}},{key:"checkPass",value:function(e){this.props.updateData(e.target.value,"UPDATE_ORG_CPASSWD"),document.querySelector("#org_pass_c").classList.remove("invalid"),document.querySelector("#org_pass_c").classList.remove("valid"),this.props.validation.passwd&&(e.target.value===this.props.OrgReg.passwd?(document.querySelector("#org_pass_c").classList.add("valid"),this.props.updateData(!0,"VALIDIATE_ORG_CPASSWD")):(document.querySelector("#org_pass_c").classList.add("invalid"),this.props.updateData(!1,"VALIDIATE_ORG_CPASSWD")))}},{key:"vailidate",value:function(e,t){this.props.updateData(e.target.value,"UPDATE_"+t),e.target.classList.remove("invalid"),e.target.classList.remove("valid"),e.target.value?(e.target.classList.add("valid"),this.props.updateData(!0,"VALIDIATE_"+t)):(this.props.updateData(!1,"VALIDIATE_"+t),e.target.classList.add("invalid"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("h5",null,s.a.createElement("center",null,"Enter Details Of Ogranisation")),s.a.createElement("form",{onSubmit:this.send},s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{id:"org_name",type:"text",value:this.props.OrgReg.name,onChange:function(t){e.vailidate(t,"ORG_NAME")}}),s.a.createElement("label",{htmlFor:"org_name"},"Name Of Organisation"),s.a.createElement("span",{className:"helper-text","data-error":"Name is required"})),s.a.createElement("div",null,s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{autoComplete:"off",className:"",id:"org_id",type:"text",value:this.props.OrgReg.usid,onChange:this.orgChange}),s.a.createElement("label",{htmlFor:"org_id"},"Unique Id for Ogranisation"),s.a.createElement("span",{className:"helper-text","data-error":"That username is taken. Try another","data-success":"Available"},function(e){if("loading"===e.props.validation.usid)return"Checking..."}(this)))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Optional Details"),s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{className:"validate",required:"","aria-required":"true",id:"org_dp",type:"text",value:this.props.OrgReg.dp,onChange:function(t){e.props.updateData(t.target.value,"UPDATE_ORG_DP")}}),s.a.createElement("label",{htmlFor:"org_dp"},"Gravatar Email ID")),s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{className:"validate",required:"","aria-required":"true",id:"org_descr",type:"text",value:this.props.OrgReg.descr,onChange:function(t){e.props.updateData(t.target.value,"UPDATE_ORG_DESCR")}}),s.a.createElement("label",{htmlFor:"org_descr"},"Tag line"))),s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{id:"org_pass",type:"password",value:this.props.OrgReg.passwd,onChange:this.passValidiate}),s.a.createElement("label",{htmlFor:"org_pass"},"Password"),s.a.createElement("span",{className:"helper-text","data-error":"Password must have atleast 4 characters"})),s.a.createElement("div",{className:"input-field col s12 m6"},s.a.createElement("input",{id:"org_pass_c",type:"password",value:this.props.OrgReg.cPasswd,onChange:this.checkPass}),s.a.createElement("label",{htmlFor:"org_pass_c"},"Confirm Password"),s.a.createElement("span",{className:"helper-text","data-error":"Passwords do not match","data-success":"Password matched"})),s.a.createElement("center",null,s.a.createElement("input",{type:"submit",value:"Verify and Register",className:"waves-effect waves-light btn"})),this.state.stat),s.a.createElement("div",{className:"col s12",style:{marginTop:10,textAlign:"right",color:"grey"}},s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(t){return e.props.change(!1)}},"Already registered?")))}}]),t}(n.Component);var Je=Object(p.b)((function(e){return e}),(function(e){return Object(u.b)({updateData:W,isAvailableUpdate:Y},e)}))(He),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={showSignUp:!1},a.changeForm=a.changeForm.bind(Object(F.a)(a)),a.modal=a.modal.bind(Object(F.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeForm",value:function(e){this.setState({showSignUp:e})}},{key:"modal",value:function(){return this.state.showSignUp?s.a.createElement(Je,{change:this.changeForm}):s.a.createElement(Ye,{change:this.changeForm})}},{key:"render",value:function(){return s.a.createElement("div",{id:"orgReg",className:"modal",style:{top:"5%!important",maxHeight:"85%"}},s.a.createElement("div",{className:"modal-content"},this.modal()))}}]),t}(n.Component),$e={position:"absolute",top:0,bottom:0,left:0,right:0,overflowY:"auto"};var Ze=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.title="Home | FreeSlot",V.a.Tabs.init(document.getElementsByClassName("tabs")),V.a.Modal.init(document.querySelectorAll(".modal"));try{JSON.parse(window.atob(function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(decodeURIComponent(n[0])===e)return decodeURIComponent(n[1])}return!1}("data"))).slots&&V.a.Modal.getInstance(document.getElementById("memReg")).open()}catch(e){}}},{key:"orgClick",value:function(){y.a.get("token")?window.location.href="/dashboard":V.a.Modal.getInstance(document.getElementById("orgReg")).open()}},{key:"memClick",value:function(){V.a.Modal.getInstance(document.getElementById("memReg")).open()}},{key:"render",value:function(){return s.a.createElement("div",{style:$e,className:"homeBack"},s.a.createElement("div",null,s.a.createElement("img",{src:"ico.png",alt:"icon",style:{position:"absolute",top:20,left:20,width:50}})),s.a.createElement("div",{style:{position:"absolute",top:"29vh",width:"100%",textAlign:"center",color:"black"}},s.a.createElement("h1",{className:"titleHome",style:{fontWeight:900,marginBottom:0}},"FreeSlot"),s.a.createElement("div",{className:"despHome",style:{fontSize:15}},"A simple application to manage your team.")),s.a.createElement("div",{className:"row",style:{fontSize:20,position:"absolute",top:"52vh",width:"100%",textAlign:"center"}},s.a.createElement("div",{style:{fontSize:20,color:"black",fontWeight:300}},"Continue as"),s.a.createElement("button",{onClick:this.memClick,className:"hvr-grow waves-effect waves-ligh hoverable homebtn col offset-l3 offset-s1 offset-m2 m3 l2 s4 btn-large",style:{overflow:"hidden",color:"#004ec3",fontWeight:700}},s.a.createElement("i",{className:"hide-on-small-only material-icons left"},"person"),"Member"),s.a.createElement("div",{className:"col l2 s1 m2",style:{margin:"0 auto"}}),s.a.createElement("button",{onClick:this.orgClick,className:"hvr-grow waves-effect waves-ligh hoverable homebtn col m3 l2 s5 btn-large",style:{overflow:"hidden",color:"#004ec3",fontWeight:700}},"Organisation",s.a.createElement("i",{className:"hide-on-small-only material-icons right"},"people"))),s.a.createElement(Be,null),s.a.createElement(Qe,null))}}]),t}(n.Component),Ke=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(R.a,null,s.a.createElement(P.a,null,s.a.createElement(C.a,{path:"/dashboard"},s.a.createElement(Ie,null)),s.a.createElement(C.a,{path:"/"},s.a.createElement(Ze,null)))))}}]),t}(n.Component);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var tt={name:"",reg:"",email:"",org:"",phno:"",rmno:"",timeTable:{},slots:[[],[],[],[],[],[],[]]},at=a(56);function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var st=Object(u.c)({MemDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,a=et({},e);switch(t.type){case"UPDATE_NAME":return a.name=t.data,a;case"UPDATE_REG":return a.reg=t.data,a;case"UPDATE_EMAIL":return a.email=t.data,a;case"UPDATE_PHNO":return a.phno=t.data,a;case"UPDATE_ORG":return a.org=t.data,a;case"UPDATE_TT":return a.timeTable=t.data,a;case"UPDATE_RMNO":return a.rmno=t.data,a;case"UPDATE_SLOTS":return a.slots=t.data,a;case"RESET_MEM_DETAILS":return tt;case"UPDATE_MEM_ALL":return t.data;default:return a}},OrgReg:function(e,t){if(!e){return{name:"",usid:"",passwd:"",cPasswd:"",mainName:"",mainEmail:"",descr:"",dp:""}}var a={name:e.name,usid:e.usid,passwd:e.passwd,cPasswd:e.cPasswd,mainName:e.mainName,mainEmail:e.mainEmail,descr:e.descr,dp:e.dp};switch(t.type){case"UPDATE_ORG_NAME":return a.name=t.data,a;case"UPDATE_ORG_USID":return a.usid=t.data,a;case"UPDATE_ORG_PASSWD":return a.passwd=t.data,a;case"UPDATE_ORG_CPASSWD":return a.cPasswd=t.data,a;case"UPDATE_ORG_MAIN-NAME":return a.mainName=t.data,a;case"UPDATE_ORG_MAIN-EMAIL":return a.mainEmail=t.data,a;case"UPDATE_ORG_DESCR":return a.descr=t.data,a;case"UPDATE_ORG_DP":return a.dp=t.data,a;default:return a}},usidIsAvailable:function(e,t){return e?"isAvailable"===t.type?(alert("zx"),t.data):e:null},validation:function(e,t){if(!e){return{name:"",usid:"",passwd:"",cPasswd:"",mainName:"",mainEmail:"",descr:""}}var a={name:e.name,usid:e.usid,passwd:e.passwd,cPasswd:e.cPasswd,mainName:e.mainName,mainEmail:e.mainEmail,descr:e.descr};switch(t.type){case"VALIDIATE_ORG_NAME":return a.name=t.data,a;case"VALIDIATE_ORG_USID":return a.usid=t.data,a;case"VALIDIATE_ORG_PASSWD":return a.passwd=t.data,a;case"VALIDIATE_ORG_CPASSWD":return a.cPasswd=t.data,a;case"VALIDIATE_ORG_MAIN-NAME":return a.mainName=t.data,a;case"VALIDIATE_ORG_MAIN-EMAIL":return a.mainEmail=t.data,a;case"VALIDIATE_ORG_DESCR":return a.descr=t.data,a;default:return a}},orgAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORG_ALL":return t.data;default:return e}},dashDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORG_DETAILS":return t.data;default:return e}},dashMembers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORG_MEMBERS":return t.data;case"UPDATE_ORG_MEMBERS_DEL":var a=Object(at.a)(e);return a.splice(a.findIndex((function(e){return e.reg===t.reg})),1),a;default:return e}},dashRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORG_REQUESTS":return t.data;case"UPDATE_ORG_REQUESTS_DEL":return t.count?e.filter((function(e){return!(e.reg===t.reg&&e.count===t.count)})):e.filter((function(e){return e.reg!==t.reg}));default:return e}},dashtimeStat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TIMESTAT":return t.data;default:return e}},isLoggedIn:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORG_LOGGED":return t.data;default:return e}},dashModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selected:null,instance:null},t=arguments.length>1?arguments[1]:void 0,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);switch(t.type){case"UPDATE_MODAL_INSTANCE":return a.instance=t.data,a;case"UPDATE_MODAL_SELECTED":return a.selected=t.data,a;default:return e}}}),rt=a(55),lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(130),a(131);var ot=Object(u.d)(st,Object(u.a)(rt.a));l.a.render(s.a.createElement((function(){return s.a.createElement("div",null,s.a.createElement(p.a,{store:ot},s.a.createElement(Ke,null)))}),null),document.querySelector(".container")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");lt?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):it(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):it(t,e)}))}}()},57:function(e,t,a){e.exports=a(132)}},[[57,1,2]]]);
//# sourceMappingURL=main.dc3c153f.chunk.js.map